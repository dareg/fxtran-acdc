MODULE YOMDIMV

!$ACDC methods 


USE PARKIND1  ,ONLY : JPIM

IMPLICIT NONE

SAVE

!     ------------------------------------------------------------------

TYPE :: TDIMV

!*    Dimensions of model working arrays

! === VERTICAL RESOLUTION =====================================================

! NFLEVG : number of levels in grid point space
! NFLEVL : number of levels in Fourier and Legendre space
! NFLEVLMX : maximum NFLEVL among all PEs
! NFLSUR : over dimensioning of NFLEVL for technical reasons, always odd
! NFLSUL : number of additional levels for semi-lagrangian
! NFLSA  = 1    -NFLSUL
! NFLEN  = NFLEVG+NFLSUL
! NIOLEVG : number of levels in the whole atmosphere (used for I/Os and definitions) ; 
!           NFLEVG can be a truncation of NIOLEVG

INTEGER(KIND=JPIM) :: NFLEVG
INTEGER(KIND=JPIM) :: NFLEVL
INTEGER(KIND=JPIM) :: NFLEVLMX
INTEGER(KIND=JPIM) :: NFLSUR
INTEGER(KIND=JPIM) :: NFLSUL
INTEGER(KIND=JPIM) :: NFLSA
INTEGER(KIND=JPIM) :: NFLEN
INTEGER(KIND=JPIM) :: NIOLEVG

CONTAINS
PROCEDURE :: COPY => COPY_TDIMV
PROCEDURE :: CRC64 => CRC64_TDIMV
PROCEDURE :: HOST => HOST_TDIMV
PROCEDURE :: LOAD => LOAD_TDIMV
PROCEDURE :: SAVE => SAVE_TDIMV
PROCEDURE :: SIZE => SIZE_TDIMV
PROCEDURE :: WIPE => WIPE_TDIMV
END TYPE TDIMV

!     ------------------------------------------------------------------

INTERFACE

MODULE SUBROUTINE COPY_TDIMV (SELF, LDCREATED, LDFIELDAPI)

IMPLICIT NONE
CLASS (TDIMV), INTENT (IN), TARGET :: SELF
LOGICAL, OPTIONAL, INTENT (IN) :: LDCREATED, LDFIELDAPI
END SUBROUTINE

MODULE SUBROUTINE CRC64_TDIMV (SELF, KLUN, CDPATH)
USE CRC64_INTRINSIC, ONLY : FCRC64 => CRC64

IMPLICIT NONE
CLASS (TDIMV), TARGET :: SELF
INTEGER, INTENT (IN) :: KLUN
CHARACTER(LEN=*), INTENT (IN) :: CDPATH
END SUBROUTINE

MODULE SUBROUTINE HOST_TDIMV (SELF)

IMPLICIT NONE
CLASS (TDIMV), TARGET :: SELF
END SUBROUTINE

MODULE SUBROUTINE LOAD_TDIMV (SELF, KLUN)

IMPLICIT NONE
CLASS (TDIMV), INTENT (OUT), TARGET :: SELF
INTEGER, INTENT (IN) :: KLUN
END SUBROUTINE

MODULE SUBROUTINE SAVE_TDIMV (SELF, KLUN)

IMPLICIT NONE
CLASS (TDIMV), INTENT (IN), TARGET :: SELF
INTEGER, INTENT (IN) :: KLUN
END SUBROUTINE

MODULE FUNCTION SIZE_TDIMV (SELF, CDPATH, LDPRINT) RESULT (KSIZE)

IMPLICIT NONE
CLASS (TDIMV),     INTENT (IN), TARGET :: SELF
CHARACTER(LEN=*), INTENT (IN), OPTIONAL :: CDPATH
LOGICAL,          INTENT (IN), OPTIONAL :: LDPRINT
INTEGER*8 :: KSIZE
END FUNCTION

MODULE SUBROUTINE WIPE_TDIMV (SELF, LDDELETED, LDFIELDAPI)

IMPLICIT NONE
CLASS (TDIMV), INTENT (IN), TARGET :: SELF
LOGICAL, OPTIONAL, INTENT (IN) :: LDDELETED, LDFIELDAPI
END SUBROUTINE


END INTERFACE

END MODULE YOMDIMV
